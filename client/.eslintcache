[{"/Users/jeroenvervaeck/Desktop/StudioGDM/project_OpenPoortje/client/src/app/services/api.service.js":"1","/Users/jeroenvervaeck/Desktop/StudioGDM/project_OpenPoortje/client/src/app/pages/supervisor/SupervisorKidsPage.js":"2"},{"size":10873,"mtime":1614941065450,"results":"3","hashOfConfig":"4"},{"size":3042,"mtime":1614941118350,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1c4n75q",{"filePath":"8","messages":"9","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"/Users/jeroenvervaeck/Desktop/StudioGDM/project_OpenPoortje/client/src/app/services/api.service.js",["11","12","13"],"/Users/jeroenvervaeck/Desktop/StudioGDM/project_OpenPoortje/client/src/app/pages/supervisor/SupervisorKidsPage.js",["14","15"],"import { default as React, useEffect, useState } from 'react';\nimport { useApi, useAuth } from '../../services'; \nimport { Link, Redirect } from 'react-router-dom';\nimport * as Routes from '../../routes';\nimport { useHistory } from 'react-router-dom'\nimport { loading } from '../../assets';\n\nimport { FaSearch, FaWrench, FaSortAlphaDown, FaSortNumericDown } from 'react-icons/fa';\n\nimport './SupervisorKidsPage.scss'\n\nimport { Kid } from '../../components'\n\nconst SupervisorKidsPage = () => {\n\tconst { getKidsOfOrganisation, eraseCookie } = useApi();\n\tconst { getLoggedInRole, getIsSupervisorLoggedIn } = useAuth();\n\tconst history = useHistory(); \n\n\tconst [ children, setChildren ] = useState();\n\tconst [ selectedChildren, setSelectedChildren ] = useState();\n\n\tuseEffect(() => {\n\t\tconst fetchKids = async () => {\n\t\t\tconst kidsResponse = await getKidsOfOrganisation();\n\t\t\tsetChildren(kidsResponse.kids)\n\t\t\tsetSelectedChildren(kidsResponse.kids)\n\t\t\tconsole.log(kidsResponse);\n\t\t}\n\n\t\tif (!children || !children.length) fetchKids() ;\n\t}, []);\n\n\tconst onSearchChange = ( searchTerm ) => {\n\t\tif (searchTerm === '') setSelectedChildren(children);\n\t\tconst results = children.filter((child) => \n\t\t\tchild.first_name.toLowerCase().includes(searchTerm.toLowerCase()) \n\t\t\t|| \n\t\t\tchild.last_name.toLowerCase().includes(searchTerm.toLowerCase())\n\t\t\t||\n\t\t\tchild.auth.username.toLowerCase().includes(searchTerm.toLowerCase())\n\t\t);\n\t\tsetSelectedChildren(results);\n\t}\n\n\treturn (\n\t\t<div className=\"supervisor-kids\">\n\t\t\t\n\t\t{\n\t\t\t(getLoggedInRole() !== 'organisation') \n\t\t\t? <Redirect to={Routes.LOGIN_MAIN}/> \n\t\t\t: null\n\t\t}\n\t\t{\n\t\t  (!getIsSupervisorLoggedIn())\n\t\t\t\t? <Redirect to={Routes.LOGIN_SECONDARY}/> \n\t\t\t\t: null\n\t\t}\n\n\t\t\t<Link className=\"supervisor-kids__nav\" to={Routes.LOGIN_SECONDARY}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\teraseCookie('sup-auth');\n\t\t\t\t\thistory.push(Routes.LOGIN_SECONDARY);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<p>Uitloggen</p>\n\t\t\t</Link>\n\n\t\t\t<h1>Selecteer een kind</h1>\n\n\t\t\t<form className=\"supervisor-kids__filter\">\n\t\t\t\t<div className=\"supervisor-kids__filter-search\">\n\t\t\t\t\t<FaSearch />\n\t\t\t\t\t<input type=\"text\" placeholder=\"Zoek op naam..\" onChange={(e) => onSearchChange(e.target.value)}></input>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"supervisor-kids__filter-icons\">\n\t\t\t\t\t<FaWrench />\n\t\t\t\t\t<FaSortAlphaDown />\n\t\t\t\t\t<FaSortNumericDown />\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t<div className=\"supervisor-kids__content\">\n\t\t\t\t{\n\t\t\t\t\t(selectedChildren && selectedChildren.length)\n\t\t\t\t\t? selectedChildren.map((kid, index) => \n\t\t\t\t\t\t<Kid \n\t\t\t\t\t\t\tkey={'kid-'+index}\n\t\t\t\t\t\t\tfirstname={kid.first_name} \n\t\t\t\t\t\t\tlastname={kid.last_name} \n\t\t\t\t\t\t\tusername={kid.auth.username}\n\t\t\t\t\t\t\tcolor={kid.theme_color}\n\t\t\t\t\t\t\tbirthdate={kid.birth_date}\n\t\t\t\t\t\t\tskinTone={kid.skin_color}\n\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\tsessionStorage.setItem('selected-kid', JSON.stringify(kid));\n\t\t\t\t\t\t\t\thistory.push(Routes.SUPERVISOR_DASHBOARD);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t\t: <img className=\"supervisor-kids__content-loading\" src={ loading }></img>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t);\n\t\n};\n\nexport default SupervisorKidsPage;\n",{"ruleId":"16","severity":1,"message":"17","line":2,"column":10,"nodeType":"18","messageId":"19","endLine":2,"endColumn":13},{"ruleId":"20","severity":1,"message":"21","line":36,"column":29,"nodeType":"22","messageId":"23","endLine":36,"endColumn":31},{"ruleId":"20","severity":1,"message":"21","line":37,"column":33,"nodeType":"22","messageId":"23","endLine":37,"endColumn":35},{"ruleId":"24","severity":1,"message":"25","line":31,"column":5,"nodeType":"26","endLine":31,"endColumn":7,"suggestions":"27"},{"ruleId":"28","severity":1,"message":"29","line":100,"column":8,"nodeType":"30","endLine":100,"endColumn":74},"no-unused-vars","'Kid' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'children' and 'getKidsOfOrganisation'. Either include them or remove the dependency array.","ArrayExpression",["31"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",{"desc":"32","fix":"33"},"Update the dependencies array to be: [children, getKidsOfOrganisation]",{"range":"34","text":"35"},[1034,1036],"[children, getKidsOfOrganisation]"]